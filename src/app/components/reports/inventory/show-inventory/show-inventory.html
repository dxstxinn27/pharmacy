<div class="shadow-lg rounded-2xl bg-white p-8">
  <!-- Encabezado -->
  <h2 class="text-2xl font-bold text-gray-700 mb-6">Inventario</h2>

  <!-- Barra superior: crear + filtro -->
  <div class="flex flex-col md:flex-row gap-3 md:items-center md:justify-between mb-4">
    <button
      pButton
      type="button"
      class="p-button p-component bg-primary text-white rounded-lg shadow-md hover:opacity-90 self-start"
      icon="pi pi-plus"
      label="Nuevo Inventario"
      [routerLink]="['/inventory/create']">
    </button>

    <!-- Filtro -->
    <div class="relative w-full md:w-80">
      <i class="pi pi-search absolute left-3 top-1/2 -translate-y-1/2"></i>
      <input
        pInputText
        type="text"
        [(ngModel)]="filterText"
        placeholder="Buscar medicamentoâ€¦"
        class="w-full pl-10 rounded-lg border border-gray-300 focus:border-primary focus:ring focus:ring-primary/20" />
    </div>
  </div>

  <!-- Tabla -->
  <p-table [value]="filteredRows" stripedRows [tableStyle]="{'min-width': '60rem'}">
    <ng-template #header>
      <tr class="bg-gray-100">
        <th class="px-4 py-2 text-left">Id</th>
        <th class="px-4 py-2 text-left">Medication</th>
        <th class="px-4 py-2 text-left">Current</th>
        <th class="px-4 py-2 text-left">Minimum</th>
        <th class="px-4 py-2 text-left">Status</th>
      </tr>
    </ng-template>

    <ng-template #body let-r>
      <tr class="border-b hover:bg-gray-50" [class.bg-red-50]="belowMin(r)">
        <td class="px-4 py-2">{{ r.id }}</td>
        <td class="px-4 py-2">{{ medName(r.medicationId) }}</td>
        <td class="px-4 py-2">{{ r.currentStock }}</td>
        <td class="px-4 py-2">{{ r.minimumStock }}</td>
        <td class="px-4 py-2">
          <span
            *ngIf="belowMin(r)"
            class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-red-100 text-red-700">
            Below minimum
          </span>
          <span
            *ngIf="!belowMin(r)"
            class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-700">
            OK
          </span>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
